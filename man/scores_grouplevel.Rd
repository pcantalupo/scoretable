% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/scores_grouplevel.R
\name{scores_grouplevel}
\alias{scores_grouplevel}
\title{Aggregate Score Table to Group level}
\usage{
scores_grouplevel(scores, groups, fun = "mean")
}
\arguments{
\item{scores}{A numeric matrix or data frame where rows are observations
(e.g., cells) and columns are scores (e.g., cell type predictions).
Rownames nor column names are necessary}

\item{groups}{A numeric or character vector of length nrow(scores)
specifying group membership (e.g., c(3, 1, 0, 1, 2, 0, 3, ...)).
Must NOT be a factor. Numeric groups will sort numerically,
character groups will sort alphabetically.}

\item{fun}{Aggregation function to use. Currently only "mean" is supported.
Default is "mean".}
}
\value{
A matrix with the mean scores. Columns are in the same order as input.
Rows are sorted by group ID (numeric groups sort numerically,
character groups sort alphabetically). Rownames are the group IDs.
}
\description{
Aggregate a score table composed of individual observations to a group level. For example, in scRNAseq data this would aggregate scores from single cells to clusters; in other contexts it could aggregate samples to treatment groups or patients to cohorts.
}
\details{
This function collapses observation-level scores into group-level summaries by
computing the mean score for each group. The input matrix with M rows (observations)
is reduced to N rows (groups), where N is the number of unique groups.

Common use cases:
\itemize{
\item Summarizing prediction scores from observations to group level
\item Creating group-level heatmaps or visualizations
\item Reducing noise by averaging scores across similar observations
\item Comparing score patterns between populations
}

The function uses \code{rowsum()} for efficient aggregation, making it suitable
for large datasets. Group IDs are sorted in the output (numerically for numeric
groups, alphabetically for character groups) for consistent ordering.
}
\examples{
# Example scores matrix
scores = matrix(rnorm(100), nrow = 20, ncol = 5)
#groups = c(rep(0,3), rep(1,4), rep(2,5), rep(3,8))
set.seed(43)
groups = sample(0:3, 20, replace=TRUE)
# Aggregate scores to group level
result = scores_grouplevel(scores, groups)
print(result)

}
